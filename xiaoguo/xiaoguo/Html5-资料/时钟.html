<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>圆形时钟</title>
    <style>
        div{width:510px;margin: 0 auto;}
        #s1{width:500px;height:30px;font-size: 35px;
            color:indigo;display: inline-block;text-align: center;}
        /*:root{*/
        /*background: url("images/ad03.jpg") no-repeat center top fixed;*/
        /*}*/
    </style>

</head>
<body>
<div>
    <canvas id="ccc" width="500" height="500"></canvas>
    <span id="s1"></span>
</div>
</body>
<script>

    var c = document.getElementById("ccc");
    var context = c.getContext("2d");
    function sz() {
        context.clearRect(0, 0, 500, 500);
        var now = new Date();                 //获取当前时间
        var years = now.getFullYear();     //年
        var month = now.getMonth() + 1;     //月
        var date1 = now.getDate();      //日
        var day=now.getDay();           //星期
        var sec = now.getSeconds();        //秒
        var min = now.getMinutes();         //分
        var hour = now.getHours();          //时
        hour = hour + (min / 60);
        if (hour > 12) {                    //24小时制转为12小时( hour = hour > 12 ? hour - 12 : hour;)
            hour = hour - 12;
        }

        //画圆
        context.beginPath();
        context.strokeStyle = "blue";
        context.lineWidth = 10;
        context.arc(250, 250, 200, 0, 2 * Math.PI);
        context.stroke();
        context.closePath();

        //画小时格
        //时刻度
        for (var i = 1; i <= 4; i++) {
            context.save();
            context.lineWidth = 7;              //设置时针3,6,9,12的粗细
            context.strokeStyle = "#000";                    //设置时针的颜色
            context.translate(250, 250);                            //先设置0,0点
            context.rotate((i * 90) * Math.PI / 180);           //再设置旋转角度计算角度
            context.beginPath();
            context.moveTo(0, -165);
            context.lineTo(0, -190);
            context.closePath();
            context.stroke();
            context.restore();
        }

        for (var i = 1; i <= 12; i++) {
            context.save();
            context.lineWidth = 6;              //设置时针 刻度的粗细
            context.strokeStyle = "#000";                    //设置时针 刻度的颜色
            context.translate(250, 250);                            //先设置0,0点
            context.rotate((i * 30) * Math.PI / 180);           //再设置旋转角度计算角度
            context.beginPath();
            context.moveTo(0, -173);
            context.lineTo(0, -190);
            context.closePath();
            context.stroke();
            context.restore();
        }


        for (var i = 1; i <= 60; i++) {
            context.save();
            context.lineWidth = 5;              //设置分 秒 刻度的粗细
            context.strokeStyle = "#000";                    //设置分 秒 刻度的颜色
            context.translate(250, 250);                            //先设置0,0点
            context.rotate((i * 6) * Math.PI / 180);           //再设置旋转角度计算角度
            context.beginPath();
            context.moveTo(0, -184);
            context.lineTo(0, -190);
            context.closePath();
            context.stroke();
            context.restore();
        }

        //时针
        context.save();
        context.lineWidth = 7;
        context.strokeStyle = "black";
        context.translate(250, 250);
        context.rotate(hour * 30 * Math.PI / 180);
        context.beginPath();
        context.moveTo(0, 10);
        context.lineTo(0, -125);
        context.closePath();
        context.stroke();
        context.restore();

        //分针
        context.save();
        context.lineWidth = 5;
        context.strokeStyle = "black";
        context.translate(250, 250);
        context.rotate(min * 6 * Math.PI / 180);
        context.beginPath();
        context.moveTo(0, 15);
        context.lineTo(0, -150);
        context.closePath();
        context.stroke();
        context.restore();

        //秒针
        context.save();
        context.lineWidth = 3;
        context.strokeStyle = "red";
        context.translate(250, 250);
        context.rotate(sec * 6 * Math.PI / 180);
        context.beginPath();
        context.moveTo(0, 15);
        context.lineTo(0, -165);
        context.closePath();
        context.stroke();

//        //秒针画圆修饰
        context.beginPath();                //每次都要保存
        context.fillStyle = "#ccc";
        context.arc(0, 0, 5, 0, Math.PI * 2);
        context.fill();
        context.stroke();
        context.closePath();
//
        context.beginPath();
        context.fillStyle = "#ccc";
        context.arc(0, -150, 6, 0, Math.PI * 2);
        context.fill();
        context.stroke();
        context.closePath();
//
        context.restore();              //每次都要恢复

//        switch(day){
//            case 1:
//                day="一";break;
//            case 2:
//                day="二";break;
//            case 3:
//                day="三";break;
//            case 4:
//                day="四";break;
//            case 5:
//                day="五";break;
//            case 6:
//                day="六";break;
//            case 0:
//                day="日";
//        }
//        s1=document.getElementById("s1");
//        s1.innerHTML=years+"年"+month+"月"+ date1+"日"+"&nbsp;"+"星期"+day;
    }
    sz();
    setInterval(sz,1000);
</script>
</html>